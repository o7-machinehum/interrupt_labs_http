<head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Up Until NowThe WifiWart is a powerful embedded Linux WiFi security device hiding inside a phone charger. It is akin to the WiFi Pineapple without loo"><meta name="author" content="Ryan Walker"><meta property="og:title" content="I put a WiFi router into a phone charger (Final Post)"><meta property="og:description" content="Up Until NowThe WifiWart is a powerful embedded Linux WiFi security device hiding inside a phone charger. It is akin to the WiFi Pineapple without loo"><meta property="og:site_name" content="Interrupt Labs Blog"><meta property="og:type" content="article"><meta property="og:image" content="https://interruptlabs.caimg/home-bg.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://interruptlabs.caimg/home-bg.jpg"><title>I put a WiFi router into a phone charger (Final Post) - Interrupt Labs Blog</title><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/style.css"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"><!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]--><link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet"><script async src="https://www.googletagmanager.com/gtag/js?id=G-JPDQ8MSX3T"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JPDQ8MSX3T")</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Interrupt Labs Blog" type="application/rss+xml">
</head><nav><a class="navbar-brand" href="/"><img src="/img/home-icon.png" alt="Homepage" style="width:60px"></a></nav><style>.column{float:left;width:50%}.row:after{content:"";display:table;clear:both}.stroke{-webkit-text-stroke:1px #000}</style><header class="intro-header" style="background-image:url(/img/home-bg.jpg)"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><h1 class="stroke">I put a WiFi router into a phone charger (Final Post)</h1><span class="meta">2021-10-25</span></div></div></div></div></header><article><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div><div class="column"><a href="/2021/09/22/I&#39;m-not-putting-a-WiFi-router-into-a-phone-charger-Part-3/">&lt&lt Previous Post</a> &#8205</div><div class="column" , style="text-align:right"></div></div><br><hr><h3 id="Up-Until-Now"><a href="#Up-Until-Now" class="headerlink" title="Up Until Now"></a>Up Until Now</h3><p>The WifiWart is a powerful embedded Linux WiFi security device hiding inside a phone charger. It is akin to the WiFi Pineapple without looking malicious. Over the length of the project, I’ve had plenty of comments telling me to buy a single-board computer (SBC), jam in an existing enclosure, and call it done. If I was trying to build a one-off device for personal use, this is what I would do. But this project isn’t for me; it’s for the community. In the past six months, I’ve designed a completely open source SBC boasting a 1.2Ghz quad-core processor, 1GB of DDR3 RAM, two WiFi radios, a USB port and all the power supplies to convert mains electricity to the required voltages for the processor. In addition to the electronics, firmware and mechanical design open source, the CAD software used in the design is also open source. I did this intentionally, as having an open source design in Altium or Solidworks is pointless because nobody will shell out 10k+ for software to view my design. That being said, <em>I hope you enjoy the final post :).</em></p><h3 id="The-Build"><a href="#The-Build" class="headerlink" title="The Build"></a>The Build</h3><p>Before starting, I should say: working with mains electronics is inherently dangerous. If you choose to do so, this is solely at your own risk.</p><p>I started by 3D printing the enclosure. The print was done in PLA with my Monoprice Mini.<br><img src="https://cdn-images-1.medium.com/max/936/0*EZRHwkbNy73TFmqR"></p><p>It was then time to assemble the two boards. Board assembly usually follows this process.</p><ol><li>Solder paste is applied using a solder stencil.</li><li>Tweezers are used to place all the parts on the boards.</li><li>Boards are heated using a reflow oven or hotplate.</li><li>The solder paste reflows in a molten state, creating permanent solder joints.<img src="https://cdn-images-1.medium.com/max/936/0*tRCMcQhRfe2S46ts"><figcaption>Compute Boards on the hotplate</figcaption></li></ol><p>Most of the board uses 0402 size passive components, which are 1mm x 0.5mm. These are some of the many components that are soldered on the board.<br><img src="https://cdn-images-1.medium.com/max/876/1*FYzkU5yUzrQaRIDGD8r0JQ.png"></p><p>After the compute boards were finished, I built and tested the power boards.<br><img src="https://cdn-images-1.medium.com/max/705/0*uqMe-7B0h_ao5cUt"></p><figcaption>Fire Extinguisher not pictured</figcaption><p></p><p>Newer readers may not be aware, but the power board stacks above the compute board as pictured below. The power board is responsible for converting mains to 5V and creating all the other voltage rails required by the central processor. The compute board houses the microprocessor, RAM, WiFi radios etc. For lots of details on the electrical design, you might find <a target="_blank" rel="noopener" href="https://machinehum.medium.com/im-putting-a-wifi-router-into-a-wall-charger-part-1-882df714bbf3">Part 1</a> interesting.<br><img src="https://cdn-images-1.medium.com/max/543/1*DQUJaicHDfcbn5Jh3vH1iw.png"></p><p>I then glued the contacts into the enclosure; these parts will be over-moulded during the injection moulding process in the final design. It’s essential these contacts are secure in the device; if they come off in an outlet, someone would get hurt. I wouldn’t trust my glue job for anything other than a prototype handles by myself alone.<br><img src="https://cdn-images-1.medium.com/max/503/1*lMgCb2n1q3J12lgeTu61iQ.png"></p><p>The mains blade contacts interface to the PCB through friction fit contacts are shown below.<br><img src="https://cdn-images-1.medium.com/max/1024/1*MIevw3FunlHJHiPaJ_TLlA.png"></p><h3 id="Final-Assembly"><a href="#Final-Assembly" class="headerlink" title="Final Assembly"></a>Final Assembly</h3><p>After six months, I finally have the prototype completed. I flashed the OS to the SD card, fired it up, and the UART logs looked fine. If you want more details about what I just said, <a target="_blank" rel="noopener" href="https://machinehum.medium.com/im-putting-a-wifi-router-into-a-wall-charger-part-2-bf04c779c905">part two</a> has lots of details on building and configuring the OS.<br><img src="https://cdn-images-1.medium.com/max/1024/1*-xMwGgppYCwFHKae1DN4wA.png"></p><figcaption>Proto 1</figcaption><p></p><h3 id="What’s-next"><a href="#What’s-next" class="headerlink" title="What’s next"></a>What’s next</h3><p>I was planning on getting a crowdfunding campaign going, but the chip shortage ruined those plans for now (more on the chip shortage in <a target="_blank" rel="noopener" href="https://machinehum.medium.com/im-not-putting-a-wifi-router-into-a-phone-charger-7b36e90ee08d">part three</a>). I don’t want to pivot over to other untested chips, so the crowdfunding will have to wait. I want to thank all the support I have received through the security and open source community.</p><p>I own and operate a small consulting company; if you or anyone else needs help with this type of engineering work, I would love to hear from you!</p></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><hr><h3 id="_authors">Author</h3><div style="display:flex"><div><img src="/img/me.jpg" style="width:350px"></div><div style="margin-left:25px"><h4>Ryan Walker<p style="font-weight:400">Building open source stuff with open source stuff. Operating a consulting company hit me up if you want something made.</p><div style="display:flex"><div style="display:flex: 50%"><div style="display:flex;margin-top:5px;align-items:center"><img src="/img/email.png" style="width:20px;padding-top:0;margin:0"> <a href="malto:info@interruptlabs.ca" style="margin-left:15px">Email</a></div><div style="display:flex;margin-top:5px;align-items:center"><img src="/img/github.png" style="width:20px;padding-top:0;margin:0"> <a target="_blank" rel="noopener" href="https://github.com/Machine-Hum" style="margin-left:15px">GitHub</a></div></div><div style="display:flex: 50%;margin-left:10px"><div style="display:flex;margin-top:5px;align-items:center"><img src="/img/discord.png" style="width:20px;padding-top:0;margin:0"> <a target="_blank" rel="noopener" href="https://discord.gg/EtZT7mjNuM" style="margin-left:15px">Discord</a></div><div style="display:flex;margin-top:5px;align-items:center"><img src="/img/rss.png" style="width:20px;padding-top:0;margin:0"> <a href="https://interruptlabs.ca/atom.xml" style="margin-left:15px">RSS Feed</a></div></div><div style="display:flex: 50%;margin-left:10px"><div style="display:flex;margin-top:5px;align-items:center"><img src="/img/twitter.png" style="width:20px;padding-top:0;margin:0"> <a target="_blank" rel="noopener" href="https://twitter.com/machinehum" style="margin-left:15px">Twitter</a></div><div style="display:flex;margin-top:5px;align-items:center"><img src="/img/youtube.png" style="width:20px;padding-top:0;margin:0"> <a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UC4aRhZpbWRGECh_Kr5wFIkA" style="margin-left:15px">Youtube</a></div></div></div></h4></div></div></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><hr><link href="//cdn-images.mailchimp.com/embedcode/classic-071822.css" rel="stylesheet" type="text/css"><style type="text/css">#mc_embed_signup{background:#fff;clear:left;font:14px Helvetica,Arial,sans-serif}#mc_embed_signup form{display:block;position:relative;text-align:left;margin:0}</style><div id="mc_embed_signup"><form action="https://interruptlabs.us10.list-manage.com/subscribe/post?u=01e9664f2845368a0228dc20f&amp;id=7eefc9b014&amp;f_id=005c35e2f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate style="margin:0"><div id="mc_embed_signup_scroll"><h3>Subscribe for Updates!</h3><div class="indicates-required"><span class="asterisk">*</span> indicates required</div><div class="mc-field-group" style="width:100%"><label for="mce-EMAIL">Email Address <span class="asterisk">*</span></label> <input type="email" name="EMAIL" class="required email" id="mce-EMAIL" required> <span id="mce-EMAIL-HELPERTEXT" class="helper_text"></span></div><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div><div style="position:absolute;left:-5000px" aria-hidden="true"><input type="text" name="b_01e9664f2845368a0228dc20f_7eefc9b014" tabindex="-1"></div><div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div></div></form></div><script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script><script type="text/javascript">jQuery,window.fnames=new Array,window.ftypes=new Array,fnames[0]="EMAIL",ftypes[0]="email",fnames[1]="FNAME",ftypes[1]="text",fnames[2]="LNAME",ftypes[2]="text",fnames[3]="ADDRESS",ftypes[3]="address",fnames[4]="PHONE",ftypes[4]="phone",fnames[5]="BIRTHDAY",ftypes[5]="birthday";var $mcj=jQuery.noConflict(!0)</script></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><hr><link href="//cdn-images.mailchimp.com/embedcode/classic-071822.css" rel="stylesheet" type="text/css"><div id="mc_embed_signup"><h3>Request a Free Consultation!</h3><form accept-charset="UTF-8" action="https://getform.io/f/f2e6ca27-2160-4dc8-b510-0eea25c7da2c" method="POST" enctype="multipart/form-data" target="_blank" style="margin:0"><div class="form-group"><label for="exampleInputEmail1" required>Email Address</label> <span class="asterisk">*</span> <input type="email" name="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email"></div><div class="form-group"><label for="exampleFormControlSelect1">Required Tech</label> <span class="asterisk">*</span> <select class="form-control" id="exampleFormControlSelect1" name="platform" required><option>Firmware</option><option>Electrical Engineering</option><option>Robotics</option><option>Linux</option></select></div><div class="form-group"><input type="checkbox" id="scales" name="newsletter" checked> <label for="newsletter">Subscribe to our Newsletter</label></div><div class="form-group"><label for="exampleInputName">Message</label> <span class="asterisk">*</span> <textarea name="comment" class="form-control" rows="10" cols="50" style="resize:none"></textarea></div><div class="clear"><input type="submit" value="Submit" name="submit" id="mc-embedded-subscribe" class="button"></div><br></form></div></div></div></div></article>