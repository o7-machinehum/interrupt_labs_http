<head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Because we all know the best way to keep your data safe is by blowing it up, right?
Well, for most of us, the real answer lies with encryption. But co"><meta name="author" content="Ryan Walker"><meta property="og:title" content="I&#39;m Building a Self-Destructing USB Drive"><meta property="og:description" content="Because we all know the best way to keep your data safe is by blowing it up, right?
Well, for most of us, the real answer lies with encryption. But co"><meta property="og:site_name" content="Interrupt Labs Blog"><meta property="og:type" content="article"><meta property="og:image" content="https://interruptlabs.caimg/home-bg.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://interruptlabs.caimg/home-bg.jpg"><title>I&#39;m Building a Self-Destructing USB Drive - Interrupt Labs Blog</title><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/style.css"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"><!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]--><link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet"><script async src="https://www.googletagmanager.com/gtag/js?id=G-JPDQ8MSX3T"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JPDQ8MSX3T")</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Interrupt Labs Blog" type="application/rss+xml">
</head><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class="container-fluid"><div class="navbar-header page-scroll"><a class="navbar-brand" href="/">Interrupt Labs Homepage</a></div></div></nav><style>.column{float:left;width:50%}.row:after{content:"";display:table;clear:both}</style><header class="intro-header" style="background-image:url(/img/home-bg.jpg)"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><h1>I'm Building a Self-Destructing USB Drive</h1><span class="meta">2022-07-29</span></div></div></div></div></header><article><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div><div class="column">&#8205</div><div class="column" , style="text-align:right"><a href="/2022/08/31/I-m-Building-a-Self-Destructing-USB-Drive-Part-2/">Next Post &gt&gt</a></div></div><br><hr><p>Because we all know the best way to keep your data safe is by blowing it up, right?<br><img src="https://cdn-images-1.medium.com/max/1024/1*3NhahmZ5sI8ZNdo98FUSsg.png"></p><p>Well, for most of us, the real answer lies with encryption. But consider this: there are certain countries where it is dangerous to be a journalist. Now pretend you’re investigating political corruption in one of these countries; in such cases, it may not be safe for you to be found with an encrypted drive.</p><p>My idea is to build a USB drive that is cosmetically and functionally identical to your run-of-the-mill USB. But there is one difference: if you plug it in normally, it doesn’t produce any data.</p><p>Now, what’s something a sane person would never do before plugging in an ordinary flash drive? <strong>Lick their fingers.</strong></p><p>That’s right; The drive will have hidden electrodes that measure the resistance of the finger plugging it in. A finger is around 1.5MΩ, but wet fingers are around 500kΩ. When the device boots, the drive will appear blank if the resistance between the electrode pair is higher than a threshold. It’s not the prettiest system, but I think it strikes a nice balance of ridiculousness and functionality. The germaphobes among us can run their fingers under the tap.</p><h4 id="The-Design"><a href="#The-Design" class="headerlink" title="The Design"></a>The Design</h4><p>A flash drive is a relatively simple design electrically. For the first version, I’m going to target USB2.0 speeds.<br><img src="https://cdn-images-1.medium.com/max/822/1*5AksmpJAY73SdXFekJQ43g.png"></p><p>The typical flash drive is composed of a USB controller (blue) connected to a NAND flash chip (red). The flash chip holds all the data, while the controller contains a USB front end and logic to interface with the flash chip. To achieve my desired functionality, ill use a USB controller with a small microcontroller to read the electrodes and inhibit the flash chip if necessary.</p><p>Understanding component economics is essential when designing hardware. The flash chip is <strong>generic</strong> and can be used in anything: smart TVs, computer BIOS, cars, you name it. However, the USB controller is an **application-specific **component for flash drives.</p><p>Application-specific ICs come around when there’s a huge market, and you need to squeeze margins. There might only be a few dozen flash drive companies worldwide, and the engineering is stale. The lion’s share of the volume comes from several huge factories with razor-thin margins. There’s no hot new flash drive startup that’s going to disrupt the market. Digikey or Mouser isn’t the place to look for sourcing application-specific components.</p><p>I scoured the internet for flash drive teardowns, searched the text on the chips, and found a <a target="_blank" rel="noopener" href="http://www.pc-3000flash.com/solbase/index.php?lang=eng">gold mine</a>: a flash drive database that lists part numbers for several USB controller ICs. I then checked to see if I could get a datasheet and a vendor — I settled on the SM3257EN.<br><img src="https://cdn-images-1.medium.com/max/526/1*WzMwtEIlDvDrRhlVkKydTA.png"></p><figcaption>SM3257EN Block diagram</figcaption><p></p><p>This chip looks like it should do the trick; the datasheet is well written and has enough information. I created the part in Kicad and imported it with a NAND flash chip and USB jack.</p><p>I now have to make the device hide the data unless the user licks their fingers.</p><p>A chip enable (CE) signal from the USB controller is designed to connect straight to the flash chip. When this signal is low, the flash chip will enable. I will use an &quot;or gate&quot; with my control signal to turn force the memory off.<br><img src="https://cdn-images-1.medium.com/max/724/1*7iut5aVjWoNkCJbMzP3jbA.png"></p><p>When my inhibit signal is high, it doesn’t matter if the status of CE. The output of the gate will be high, which disables the flash memory.</p><p>As for controlling the inhibit signal itself, I’m going to use an <a target="_blank" rel="noopener" href="https://www.digikey.ca/en/products/detail/microchip-technology/ATTINY24A-CCUR/2357342">ATTINY24</a>, and a transconductance amplifier hooked up to the electrodes. I’ll get more into that next post.</p><h4 id="The-Mission"><a href="#The-Mission" class="headerlink" title="The Mission"></a>The Mission</h4><p>I’m trying to build hardware that solves problems and builds a community. If you think you might have a use for the hardware in this post or would like to help out, I would love to hear from you. I’ve created a <a target="_blank" rel="noopener" href="https://discord.gg/EtZT7mjNuM">Discord</a> server with like-minded people! Everything is on <a target="_blank" rel="noopener" href="https://github.com/Machine-Hum/ovrdrive">github</a>!<br><img src="https://cdn-images-1.medium.com/max/799/1*qaew9czYRuC--KSqTZQRDg.png"></p></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><hr><h3 id="_authors">Author</h3><div style="display:flex"><div><img src="/img/me.jpg" style="width:350px"></div><div style="margin-left:25px"><h4>Ryan Walker<p style="font-weight:400">Building open source stuff with open source stuff. Operating a consulting company hit me up if you want something made.</p><div style="display:flex"><div style="display:flex: 50%"><div style="display:flex;margin-top:5px;align-items:center"><img src="/img/email.png" style="width:20px;padding-top:0;margin:0"> <a href="malto:info@interruptlabs.ca" style="margin-left:15px">Email</a></div><div style="display:flex;margin-top:5px;align-items:center"><img src="/img/github.png" style="width:20px;padding-top:0;margin:0"> <a target="_blank" rel="noopener" href="https://github.com/Machine-Hum" style="margin-left:15px">GitHub</a></div></div><div style="display:flex: 50%;margin-left:10px"><div style="display:flex;margin-top:5px;align-items:center"><img src="/img/discord.png" style="width:20px;padding-top:0;margin:0"> <a target="_blank" rel="noopener" href="https://discord.gg/EtZT7mjNuM" style="margin-left:15px">Discord</a></div><div style="display:flex;margin-top:5px;align-items:center"><img src="/img/rss.png" style="width:20px;padding-top:0;margin:0"> <a href="https://interruptlabs.ca/atom.xml" style="margin-left:15px">RSS Feed</a></div></div></div></h4></div></div></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><hr><link href="//cdn-images.mailchimp.com/embedcode/classic-071822.css" rel="stylesheet" type="text/css"><style type="text/css">#mc_embed_signup{background:#fff;clear:left;font:14px Helvetica,Arial,sans-serif}#mc_embed_signup form{display:block;position:relative;text-align:left;margin:0}</style><div id="mc_embed_signup"><form action="https://interruptlabs.us10.list-manage.com/subscribe/post?u=01e9664f2845368a0228dc20f&amp;id=7eefc9b014&amp;f_id=005c35e2f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate><div id="mc_embed_signup_scroll"><h3>Subscribe for Updates!</h3><div class="indicates-required"><span class="asterisk">*</span> indicates required</div><div class="mc-field-group"><label for="mce-EMAIL">Email Address <span class="asterisk">*</span></label> <input type="email" name="EMAIL" class="required email" id="mce-EMAIL" required> <span id="mce-EMAIL-HELPERTEXT" class="helper_text"></span></div><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div><div style="position:absolute;left:-5000px" aria-hidden="true"><input type="text" name="b_01e9664f2845368a0228dc20f_7eefc9b014" tabindex="-1"></div><div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div></div></form></div><script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script><script type="text/javascript">jQuery,window.fnames=new Array,window.ftypes=new Array,fnames[0]="EMAIL",ftypes[0]="email",fnames[1]="FNAME",ftypes[1]="text",fnames[2]="LNAME",ftypes[2]="text",fnames[3]="ADDRESS",ftypes[3]="address",fnames[4]="PHONE",ftypes[4]="phone",fnames[5]="BIRTHDAY",ftypes[5]="birthday";var $mcj=jQuery.noConflict(!0)</script></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"></div></div></div></article>